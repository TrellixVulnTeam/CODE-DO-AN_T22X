<div class="container pd-bd">
    <h1>Category</h1>
<form method="POST" action="uploadCategory">
    <div class="d-flex flex-row-reverse my-2 align-items-center">
      <div class="d-flex gap-3"> 
      <span class="d-flex align-items-center gap-2">
      <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"> <span>SelectAll</span> 
      </span>
      <select name="" id="">
        <option value="">-Chọn hành động-</option>
        <option value="">Xoá</option>
      </select>
      <button class="btn btn-primary" disabled>
          Thực hiện
      </button>
      </div>
    </div>
  <div id='appendLineListCategory'>
    {{#if data}}
      {{#each data}}
      <div class="my-3 d-flex align-items-center gap-3">
        <input name="nameCategory" type="text" value="{{nameCategory}}" class="form-control" disabled>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
        </div>
        <div class="btn btn-danger">Xoá</div>
        <div class="btn btn-warning">Sửa</div>
      </div>
      {{/each}}
      {{else}}
           {{>empty}}
    {{/if}}
  </div>
  <div id="appendLineAddCategory">
  
  </div>
  <div class="btn btn-success mb-3 w-100 fw-bold fs-4" id="btn_ThemLine_Category">
      +
  </div>
  <div class="d-flex flex-row-reverse">
  <button type="submit" id="btn_submit_Category" class="btn btn-primary" disabled>Lưu</button>
  </div>
  
</form>

</div>

<script>
  document.addEventListener('DOMContentLoaded',function(){
      // Khai báo biến
      var btnThemLine = $('#btn_ThemLine_Category')
      var element_line_category = $('#appendLineAddCategory');
      var btnSubmit =$('#btn_submit_Category');
      var countElemet = 0;
      var name ='nameCategory';
      var icon ='iconCategory'
        btnThemLine.on('click',function(){
          countElemet++;
          element_line_category.append(renderLineWithIcon(countElemet,name,icon))
          var btn_of_line = $(`.btn-remove-Categroy-line-${countElemet}`); //btn đỏ của từng dòng
          var parent_btn_of_line = $(`.number-element-${countElemet}`);  //div cha của btn đỏ
          var elementChildNodeAppendLine =element_line_category.children().length; //đếm length các phẩn tử con của id "appendLineAddCategory"
          toggleDisabledWithLength(elementChildNodeAppendLine,btnSubmit);  //Vô hiệu hoá btn Lưu khi ấn nút thêm line xanh lá
          btn_of_line.on('click',function(){
              parent_btn_of_line.remove();
              //Vô hiệu hoá btn Lưu khi ấn nút xoá line đỏ
              var elementChildNodeAppendLine =element_line_category.children().length;
              toggleDisabledWithLength(elementChildNodeAppendLine,btnSubmit);
          })
        })
  })
 
</script>